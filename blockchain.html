<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blockchain Explorer Simulation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Matching your website's existing style */
        :root {
            --primary-color: #212529;
            --secondary-color: #495057;
            --accent-color: #6c757d;
            --text-color: #333333;
            --light-bg: #f8f9fa;
            --dark-bg: #212529;
            --border-radius: 4px;
            --box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Times New Roman", Times, serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-bg);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .section-title {
            font-size: 36px;
            margin-bottom: 35px;
            color: var(--primary-color);
            position: relative;
            display: inline-block;
            z-index: 1;
        }

        .cyber-accent {
            position: relative;
        }

        .cyber-accent::before {
            content: "";
            position: absolute;
            height: 2px;
            width: 60px;
            background-color: var(--secondary-color);
            bottom: -12px;
            left: 0;
        }

        .cyber-accent::after {
            content: "";
            position: absolute;
            height: 2px;
            width: 30px;
            background-color: #adb5bd;
            bottom: -12px;
            left: 70px;
        }

        .cyber-box {
            border-left: 2px solid var(--secondary-color);
            padding-left: 20px;
            position: relative;
            margin-bottom: 20px;
        }

        .cyber-box::before {
            content: "{ ";
            position: absolute;
            left: -10px;
            top: -5px;
            color: var(--secondary-color);
            opacity: 0.2;
            font-size: 32px;
            font-weight: bold;
        }

        .cyber-box::after {
            content: " }";
            position: absolute;
            left: -10px;
            bottom: -5px;
            color: var(--secondary-color);
            opacity: 0.2;
            font-size: 32px;
            font-weight: bold;
        }

        .blockchain-container {
            background-color: #fff;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #dee2e6;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 500;
            color: var(--secondary-color);
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: var(--primary-color);
            border-bottom: 3px solid var(--secondary-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: var(--border-radius);
            font-family: inherit;
        }

        .btn {
            display: inline-block;
            padding: 10px 20px;
            border-radius: var(--border-radius);
            background-color: var(--secondary-color);
            color: #fff;
            border: none;
            cursor: pointer;
            font-family: inherit;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn:hover {
            background-color: var(--primary-color);
        }

        .btn-secondary {
            background-color: var(--accent-color);
        }

        .btn-secondary:hover {
            background-color: #5a6268;
        }

        .alert {
            padding: 10px 15px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
        }

        .alert-danger {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .info-box {
            background-color: rgba(0, 0, 0, 0.02);
            border-left: 3px solid var(--secondary-color);
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .block {
            border: 1px solid #ced4da;
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
        }

        .block:hover {
            box-shadow: var(--box-shadow);
        }

        .block.active {
            border-color: var(--secondary-color);
            background-color: rgba(0, 0, 0, 0.02);
        }

        .block-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .block-details {
            display: none;
            padding-top: 10px;
            border-top: 1px dashed #ced4da;
            margin-top: 10px;
        }

        .block.active .block-details {
            display: block;
        }

        .transaction {
            background-color: rgba(0, 0, 0, 0.02);
            padding: 10px;
            border-radius: var(--border-radius);
            margin-bottom: 8px;
        }

        .transaction-header {
            display: flex;
            justify-content: space-between;
            font-weight: 500;
        }

        .hash {
            font-family: monospace;
            word-break: break-all;
        }

        .hash-prefix {
            color: #28a745;
            font-weight: bold;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        table th,
        table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        table th {
            font-weight: 600;
            background-color: rgba(0, 0, 0, 0.02);
        }

        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: var(--secondary-color);
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
            vertical-align: middle;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .mining-info {
            background-color: rgba(0, 0, 0, 0.02);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-top: 15px;
            display: none;
        }
        .cyber-visualization {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
            opacity: 0.35;
        }

        .binary-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            bottom: 0;
            left: 0;
            background-size: cover;
            opacity: 0.015;
            z-index: 0;
            pointer-events: none;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiB2aWV3Qm94PSIwIDAgNDAwIDQwMCI+CiAgPHN0eWxlPgogICAgdGV4dCB7IGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7IGZvbnQtc2l6ZTogMTBweDsgZmlsbDogIzMzMzsgfQogIDwvc3R5bGU+CiAgPGcgaWQ9ImJpbmFyeSI+CiAgICA8dGV4dCB4PSIxMCIgeT0iMTAiPjAxMTAwMTAxPC90ZXh0PgogICAgPHRleHQgeD0iNjAiIHk9IjEwIj4xMTAwMTExMDwvdGV4dD4KICAgIDx0ZXh0IHg9IjExMCIgeT0iMTAiPjAxMDAxMDExPC90ZXh0PgogICAgPHRleHQgeD0iMTYwIiB5PSIxMCI+MTEwMTAxMDA8L3RleHQ+CiAgICA8dGV4dCB4PSIyMTAiIHk9IjEwIj4wMTEwMTEwMTwvdGV4dD4KICAgIDx0ZXh0IHg9IjI2MCIgeT0iMTAiPjExMTAxMDAxPC90ZXh0PgogICAgPHRleHQgeD0iMzEwIiB5PSIxMCI+MDExMDAwMTA8L3RleHQ+CiAgICA8dGV4dCB4PSIzNjAiIHk9IjEwIj4xMDAxMDExMTwvdGV4dD4KICAgIAogICAgPHRleHQgeD0iMTAiIHk9IjMwIj4xMDExMDAxMDwvdGV4dD4KICAgIDx0ZXh0IHg9IjYwIiB5PSIzMCI+MDAxMDExMDE8L3RleHQ+CiAgICA8dGV4dCB4PSIxMTAiIHk9IjMwIj4xMTAxMDAwMTwvdGV4dD4KICAgIDx0ZXh0IHg9IjE2MCIgeT0iMzAiPjAxMDExMTAwPC90ZXh0PgogICAgPHRleHQgeD0iMjEwIiB5PSIzMCI+MDEwMDAxMTE8L3RleHQ+CiAgICA8dGV4dCB4PSIyNjAiIHk9IjMwIj4xMTAxMDExMDwvdGV4dD4KICAgIDx0ZXh0IHg9IjMxMCIgeT0iMzAiPjAxMDAxMDAwPC90ZXh0PgogICAgPHRleHQgeD0iMzYwIiB5PSIzMCI+MTExMDAxMDE8L3RleHQ+CiAgPC9nPgo8L3N2Zz4=');
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
            position: relative;
            z-index: 1;
        }

        /* Cyber Design Elements */
        .cyber-accent {
            position: relative;
        }

        .cyber-accent::before {
            content: "";
            position: absolute;
            height: 2px;
            width: 60px;
            background-color: var(--secondary-color);
            bottom: -12px;
            left: 0;
        }

        .cyber-accent::after {
            content: "";
            position: absolute;
            height: 2px;
            width: 30px;
            background-color: #adb5bd;
            bottom: -12px;
            left: 70px;
        }

        .cyber-line {
            position: absolute;
            width: 1px;
            background-color: rgba(73, 80, 87, 0.1);
            z-index: 0;
        }

        .cyber-line-left {
            left: 15%;
            top: 0;
            height: 100%;
        }

        .cyber-line-right {
            right: 15%;
            top: 0;
            height: 100%;
        }

        .cyber-dots {
            position: absolute;
            top: 40px;
            right: 40px;
            width: 180px;
            height: 180px;
            z-index: 0;
            opacity: 0.08;
        }

        .cyber-dots::before {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(var(--secondary-color) 2px, transparent 2px);
            background-size: 18px 18px;
        }

        .section-title {
            font-size: 36px;
            margin-bottom: 35px;
            color: var(--primary-color);
            position: relative;
            display: inline-block;
            z-index: 1;
        }

        .section-subtitle {
            font-size: 18px;
            color: var(--secondary-color);
            max-width: 800px;
            margin-bottom: 40px;
        }

        .difficulty-control {
            display: flex;
            align-items: center;
            margin-top: 15px;
        }

        .difficulty-control label {
            margin-right: 10px;
            margin-bottom: 0;
        }

        .difficulty-control select {
            padding: 5px 10px;
            border-radius: var(--border-radius);
            border: 1px solid #ced4da;
        }
        /* Header styles */
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        header:after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
            color: #adb5bd;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 30px;
        }

        .nav-links a {
            color: white;
            font-weight: 500;
            position: relative;
            text-decoration: none;
        }

        .nav-links a:after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 1px;
            background-color: white;
            transition: width 0.3s;
        }

        .nav-links a:hover {
            color: white;
        }

        .nav-links a:hover:after {
            width: 100%;
        }

        .mobile-menu-btn {
            display: none;
            cursor: pointer;
            font-size: 24px;
        }
        /* Footer */
        footer {
            background-color: var(--dark-bg);
            color: white;
            padding: 60px 0 30px;
            margin-top: 60px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            margin-bottom: 40px;
        }

        .footer-about h3 {
            font-size: 24px;
            margin-bottom: 20px;
            color: white;
        }

        .footer-about p {
            margin-bottom: 20px;
            opacity: 0.8;
            line-height: 1.7;
        }

        .social-links {
            display: flex;
            gap: 15px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: background-color 0.3s;
        }

        .social-link:hover {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .footer-links h3 {
            font-size: 24px;
            margin-bottom: 20px;
            color: white;
        }

        .quick-links {
            list-style: none;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .quick-links a {
            color: rgba(255, 255, 255, 0.8);
            transition: color 0.3s;
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .quick-links a:hover {
            color: var(--accent-color);
        }

        .quick-links a i {
            margin-right: 10px;
            font-size: 14px;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
            opacity: 0.7;
        }

        /* Animation for new content */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: fadeIn 0.3s ease-out forwards;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .blockchain-container {
                padding: 15px;
            }

            .tab {
                padding: 8px 12px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
<div class="language-switcher">
    <i class="fas fa-globe"></i>
    <button id="en-btn" class="active" onclick="changeLanguage('en')">EN</button>
    <button id="ar-btn" onclick="changeLanguage('ar')">AR</button>
</div>
<!-- Header -->
    <header>
        <div class="container">
            <nav>
                <div class="logo">
                    <a href="index.html" style="text-decoration: none; color: white;">
                        <i class="fas fa-shield-alt"></i>
                        Aziz Alghamdi عزيز الغامدي
                    </a>
                </div>
                <div class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#about">About</a></li>
                    <li><a href="index.html#education">Education</a></li>
                    <li><a href="index.html#research">Research</a></li>
                    <li><a href="index.html#projects">Projects</a></li>
                    <li><a href="index.html#certifications">Certifications</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- Unique Cybersecurity Visualization -->
    <div id="cyber-visualization" class="cyber-visualization"></div>
    <div class="binary-bg"></div>

    <div class="container">
        <h2 class="section-title cyber-accent">Blockchain Explorer</h2>

        <div class="cyber-box">
            <p>This interactive blockchain simulation allows you to create transactions, mine new blocks, and explore the mechanics behind blockchain technology. Experiment with different mining difficulties and see how cryptographic hashing secures the entire system.</p>
        </div>

        <div class="blockchain-container">
            <div class="tabs">
                <div class="tab active" data-tab="blockchain">Blockchain</div>
                <div class="tab" data-tab="transactions">Pending Transactions</div>
                <div class="tab" data-tab="create">Create Transaction</div>
            </div>

            <!-- Blockchain Tab -->
            <div class="tab-content active" id="blockchain-tab">
                <div class="info-box">
                    <p>The blockchain below represents a series of connected blocks. Each block contains transactions and is cryptographically linked to the previous block through its hash. Click on any block to view its details.</p>
                </div>
                <div id="blockchain-blocks">
                    <!-- Blocks will be rendered here -->
                </div>
            </div>

            <!-- Transactions Tab -->
            <div class="tab-content" id="transactions-tab">
                <div class="info-box">
                    <p>Pending transactions are waiting to be included in the next block. When you mine a new block, all pending transactions will be added to the blockchain.</p>
                </div>

                <div id="pending-transactions-container">
                    <table id="pending-transactions-table">
                        <thead>
                            <tr>
                                <th>From</th>
                                <th>To</th>
                                <th>Amount</th>
                                <th>Timestamp</th>
                            </tr>
                        </thead>
                        <tbody id="pending-transactions-body">
                            <!-- Pending transactions will be rendered here -->
                        </tbody>
                    </table>
                    <div id="no-pending-transactions" style="display: none;">
                        <p>There are no pending transactions.</p>
                    </div>
                </div>

                <button id="mine-button" class="btn" disabled>Mine New Block</button>

                <div class="difficulty-control">
                    <label for="difficulty">Mining Difficulty:</label>
                    <select id="difficulty">
                        <option value="1">Easy (1)</option>
                        <option value="2" selected>Medium (2)</option>
                        <option value="3">Hard (3)</option>
                        <option value="4">Expert (4)</option>
                    </select>
                </div>

                <div id="mining-info" class="mining-info">
                    <div><span class="loader"></span> Mining in progress...</div>
                    <div id="mining-details"></div>
                </div>
            </div>

            <!-- Create Transaction Tab -->
            <div class="tab-content" id="create-tab">
                <div class="info-box">
                    <p>Create a new transaction that will be added to the pending transactions pool. In a real blockchain, these transactions would be signed with your private key to prove authenticity.</p>
                </div>

                <div id="error-alert" class="alert alert-danger" style="display: none;"></div>
                <div id="success-alert" class="alert alert-success" style="display: none;"></div>

                <div class="form-group">
                    <label for="from">From Address:</label>
                    <input type="text" id="from" class="form-control" placeholder="Enter sender address">
                </div>

                <div class="form-group">
                    <label for="to">To Address:</label>
                    <input type="text" id="to" class="form-control" placeholder="Enter recipient address">
                </div>

                <div class="form-group">
                    <label for="amount">Amount:</label>
                    <input type="text" id="amount" class="form-control" placeholder="Enter amount">
                </div>

                <button id="add-transaction-button" class="btn">Add Transaction</button>

                <div class="info-box" style="margin-top: 30px;">
                    <h3 style="margin-bottom: 10px;">About Digital Signatures</h3>
                    <p>In actual blockchain networks, each transaction is secured by a digital signature created with the sender's private key. This signature can be verified using the sender's public key to ensure the transaction is authentic.</p>
                    <div style="margin-top: 10px; font-family: monospace; background-color: rgba(0,0,0,0.05); padding: 10px;">
                        signature = sign(sha256(transaction data), privateKey)
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        // Utility to create SHA-256 hash
        async function sha256(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
            return hashHex;
        }

        // Blockchain implementation
        class BlockchainSimulator {
            constructor() {
                this.blockchain = [];
                this.pendingTransactions = [];
                this.difficulty = 2;
                this.miningInProgress = false;

                // Initialize blockchain with genesis block
                this.createGenesisBlock();

                // Setup UI events
                this.setupEventListeners();

                // Render initial state
                this.renderBlockchain();
                this.renderPendingTransactions();
            }

            // Create the first block (genesis)
            async createGenesisBlock() {
                const genesisBlock = {
                    index: 0,
                    timestamp: new Date('2023-01-01T00:00:00Z').toISOString(),
                    transactions: [{ from: 'SYSTEM', to: 'Genesis', amount: 'N/A', timestamp: new Date('2023-01-01T00:00:00Z').toISOString() }],
                    previousHash: '0000000000000000000000000000000000000000000000000000000000000000',
                    hash: '',
                    nonce: 0
                };

                genesisBlock.hash = await this.calculateBlockHash(genesisBlock);
                this.blockchain.push(genesisBlock);
            }

            // Calculate a block's hash
            async calculateBlockHash(block) {
                const { index, timestamp, transactions, previousHash, nonce } = block;
                const blockString = JSON.stringify({ index, timestamp, transactions, previousHash, nonce });
                return await sha256(blockString);
            }

            // Add a new transaction to pending pool
            async addTransaction(from, to, amount) {
                if (!from || !to || !amount) {
                    throw new Error('Please fill in all transaction fields');
                }

                const transaction = {
                    from,
                    to,
                    amount,
                    timestamp: new Date().toISOString(),
                    signature: await this.generateSignature(from, to, amount)
                };

                this.pendingTransactions.push(transaction);
                this.renderPendingTransactions();

                return transaction;
            }

            // Generate a fake signature for demonstration
            async generateSignature(from, to, amount) {
                const data = `${from}${to}${amount}${Date.now()}`;
                const fullHash = await sha256(data);
                return fullHash.substring(0, 16); // Use first 16 chars as the signature
            }

            // Mine a new block with pending transactions
            async mineBlock() {
                if (this.pendingTransactions.length === 0) {
                    throw new Error('No pending transactions to add to a block');
                }

                if (this.miningInProgress) {
                    throw new Error('Mining already in progress');
                }

                this.miningInProgress = true;
                document.getElementById('mining-info').style.display = 'block';
                document.getElementById('mine-button').disabled = true;

                const previousBlock = this.blockchain[this.blockchain.length - 1];
                const newBlockIndex = previousBlock.index + 1;

                const newBlock = {
                    index: newBlockIndex,
                    timestamp: new Date().toISOString(),
                    transactions: [...this.pendingTransactions],
                    previousHash: previousBlock.hash,
                    hash: '',
                    nonce: 0
                };

                try {
                    // Mine the block to find a valid hash
                    const minedBlock = await this.findValidBlockHash(newBlock);
                    this.blockchain.push(minedBlock);
                    this.pendingTransactions = [];

                    // Update UI
                    this.renderBlockchain();
                    this.renderPendingTransactions();

                    document.getElementById('mining-info').style.display = 'none';
                    document.getElementById('mine-button').disabled = false;
                    this.miningInProgress = false;

                    return minedBlock;
                } catch (error) {
                    console.error('Mining error:', error);
                    document.getElementById('mining-info').style.display = 'none';
                    document.getElementById('mine-button').disabled = false;
                    this.miningInProgress = false;
                    throw error;
                }
            }

            // Find a valid hash with the required number of leading zeros
            async findValidBlockHash(block) {
                let { nonce } = block;
                let hash = '';
                const prefix = '0'.repeat(this.difficulty);
                const updateInterval = 50; // Update UI every 50 iterations

                while (!hash.startsWith(prefix)) {
                    nonce++;
                    const newBlock = { ...block, nonce };
                    hash = await this.calculateBlockHash(newBlock);

                    // Update UI occasionally to show mining progress
                    if (nonce % updateInterval === 0) {
                        document.getElementById('mining-details').innerHTML = `
                            <div>Current nonce: ${nonce}</div>
                            <div>Current hash: <span class="hash"><span class="hash-prefix">${hash.substring(0, this.difficulty)}</span>${hash.substring(this.difficulty)}</span></div>
                            <div>Target: ${prefix}...</div>
                        `;

                        // Small delay to allow UI updates
                        await new Promise(resolve => setTimeout(resolve, 0));
                    }
                }

                return { ...block, hash, nonce };
            }

            // Set mining difficulty
            setDifficulty(difficulty) {
                this.difficulty = parseInt(difficulty);
            }

            // Render the blockchain
            renderBlockchain() {
                const container = document.getElementById('blockchain-blocks');
                container.innerHTML = '';

                // Render blocks in reverse order (newest first)
                for (let i = this.blockchain.length - 1; i >= 0; i--) {
                    const block = this.blockchain[i];
                    const blockElement = document.createElement('div');
                    blockElement.className = 'block animate-in';
                    blockElement.setAttribute('data-index', block.index);

                    const hashPrefix = block.hash.substring(0, this.difficulty);
                    const hashRest = block.hash.substring(this.difficulty);

                    blockElement.innerHTML = `
                        <div class="block-header">
                            <div><strong>Block #${block.index}</strong></div>
                            <div>${new Date(block.timestamp).toLocaleString()}</div>
                        </div>
                        <div><strong>Hash:</strong> <span class="hash"><span class="hash-prefix">${hashPrefix}</span>${hashRest}</span></div>
                        <div><strong>Previous Hash:</strong> <span class="hash">${block.previousHash.substring(0, 15)}...</span></div>
                        <div class="block-details">
                            <div><strong>Transactions (${block.transactions.length}):</strong></div>
                            <div id="block-transactions-${block.index}">
                                ${block.transactions.map(tx => `
                                    <div class="transaction">
                                        <div class="transaction-header">
                                            <div>${tx.from} → ${tx.to}</div>
                                            <div>${tx.amount}</div>
                                        </div>
                                        ${tx.signature ? `<div><small>Signature: ${tx.signature}</small></div>` : ''}
                                    </div>
                                `).join('')}
                            </div>
                            <div><strong>Nonce:</strong> ${block.nonce}</div>
                        </div>
                    `;

                    // Add click event to toggle block details
                    blockElement.addEventListener('click', () => {
                        // Remove active class from all blocks
                        document.querySelectorAll('.block').forEach(el => {
                            el.classList.remove('active');
                        });

                        // Add active class to clicked block
                        blockElement.classList.add('active');
                    });

                    container.appendChild(blockElement);
                }
            }

            // Render pending transactions
            renderPendingTransactions() {
                const tableBody = document.getElementById('pending-transactions-body');
                const emptyMessage = document.getElementById('no-pending-transactions');

                tableBody.innerHTML = '';

                if (this.pendingTransactions.length === 0) {
                    document.getElementById('pending-transactions-table').style.display = 'none';
                    emptyMessage.style.display = 'block';
                    document.getElementById('mine-button').disabled = true;
                } else {
                    document.getElementById('pending-transactions-table').style.display = 'table';
                    emptyMessage.style.display = 'none';
                    document.getElementById('mine-button').disabled = false;

                    this.pendingTransactions.forEach(tx => {
                        const row = document.createElement('tr');
                        row.className = 'animate-in';
                        row.innerHTML = `
                            <td>${tx.from}</td>
                            <td>${tx.to}</td>
                            <td>${tx.amount}</td>
                            <td>${new Date(tx.timestamp).toLocaleString()}</td>
                        `;
                        tableBody.appendChild(row);
                    });
                }
            }

            // Setup UI event listeners
            setupEventListeners() {
                // Tab switching
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        // Update active tab
                        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');

                        // Show corresponding content
                        const tabId = tab.getAttribute('data-tab');
                        document.querySelectorAll('.tab-content').forEach(content => {
                            content.classList.remove('active');
                        });
                        document.getElementById(`${tabId}-tab`).classList.add('active');
                    });
                });

                // Add transaction button
                document.getElementById('add-transaction-button').addEventListener('click', async () => {
                    const from = document.getElementById('from').value;
                    const to = document.getElementById('to').value;
                    const amount = document.getElementById('amount').value;

                    try {
                        await this.addTransaction(from, to, amount);

                        // Show success message
                        const successAlert = document.getElementById('success-alert');
                        successAlert.textContent = 'Transaction added successfully!';
                        successAlert.style.display = 'block';

                        // Hide error message if visible
                        document.getElementById('error-alert').style.display = 'none';

                        // Clear form
                        document.getElementById('from').value = '';
                        document.getElementById('to').value = '';
                        document.getElementById('amount').value = '';

                        // Auto-hide success message after 3 seconds
                        setTimeout(() => {
                            successAlert.style.display = 'none';
                        }, 3000);
                    } catch (error) {
                        // Show error message
                        const errorAlert = document.getElementById('error-alert');
                        errorAlert.textContent = error.message;
                        errorAlert.style.display = 'block';

                        // Hide success message if visible
                        document.getElementById('success-alert').style.display = 'none';
                    }
                });

                // Mine block button
                document.getElementById('mine-button').addEventListener('click', async () => {
                    try {
                        await this.mineBlock();

                        // Switch to blockchain tab to show the new block
                        document.querySelectorAll('.tab')[0].click();

                        // Highlight the newest block
                        setTimeout(() => {
                            const blocks = document.querySelectorAll('.block');
                            if (blocks.length > 0) {
                                blocks[0].click();
                            }
                        }, 100);
                    } catch (error) {
                        console.error('Mining error:', error);
                    }
                });

                // Difficulty selector
                document.getElementById('difficulty').addEventListener('change', (e) => {
                    this.setDifficulty(e.target.value);
                });
            }
        }

        // Initialize blockchain simulator when page is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.blockchainSimulator = new BlockchainSimulator();
        });
    </script>
<!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <h3>Aziz Alghamdi</h3>
                    <p>Cybersecurity professional specializing in digital forensics, incident response, and the application
                        of security principles to criminal justice. Currently pursuing a Bachelor of Arts and Science in
                        Computer Science with an emphasis on Cybersecurity and a minor in Criminal Justice.</p>
                    <div class="social-links">
                        <a href="https://linkedin.com" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://github.com/iz2a" class="social-link"><i class="fab fa-github"></i></a>
                        <a href="https://x.com" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.researchgate.net/profile/Aziz-Alghamdi-3?ev=hdr_xprf" class="social-link"><i
                                class="fab fa-researchgate"></i></a>
                    </div>
                </div>

                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul class="quick-links">
                        <li><a href="index.html#about"><i class="fas fa-chevron-right"></i> About Me</a></li>
                        <li><a href="index.html#education"><i class="fas fa-chevron-right"></i> Education</a></li>
                        <li><a href="index.html#research"><i class="fas fa-chevron-right"></i> Research</a></li>
                        <li><a href="index.html#projects"><i class="fas fa-chevron-right"></i> Projects</a></li>
                        <li><a href="index.html#certifications"><i class="fas fa-chevron-right"></i> Certifications</a></li>
                        <li><a href="index.html#contact"><i class="fas fa-chevron-right"></i> Contact</a></li>
                        <li><a href="interactive.html"><i class="fas fa-chevron-right"></i> Interactive Learning</a></li>
                        <li><a href="MyResume.pdf"><i class="fas fa-chevron-right"></i> Download CV</a></li>
                    </ul>
                </div>
            </div>

            <div class="copyright">
                <p>&copy; 2025 Aziz Alghamdi. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
 <!-- Cybersecurity Visualization Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Create visualization container
            const container = document.getElementById('cyber-visualization');

            // Set size to full window
            const width = window.innerWidth;
            const height = window.innerHeight;

            // Create SVG element
            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svg.setAttribute('width', width);
            svg.setAttribute('height', height);
            svg.style.position = 'absolute';
            svg.style.top = '0';
            svg.style.left = '0';
            svg.style.zIndex = '-1';
            container.appendChild(svg);

            // Node and connection data
            const nodeCount = 40;
            const nodes = [];
            const connections = [];
            const packetData = [];
            const alerts = [];

            // Create nodes
            for (let i = 0; i < nodeCount; i++) {
                const node = {
                    id: i,
                    x: Math.random() * width,
                    y: Math.random() * height,
                    radius: Math.random() * 3 + 2,
                    vx: (Math.random() - 0.5) * 0.5,
                    vy: (Math.random() - 0.5) * 0.5,
                    type: Math.random() > 0.8 ? 'server' : 'client',
                    secure: Math.random() > 0.2
                };
                nodes.push(node);
            }

            // Create connections between nodes
            for (let i = 0; i < nodes.length; i++) {
                const connectionCount = Math.floor(Math.random() * 3) + 1;
                for (let j = 0; j < connectionCount; j++) {
                    const target = Math.floor(Math.random() * nodes.length);
                    if (i !== target) {
                        connections.push({
                            source: i,
                            target: target,
                            active: Math.random() > 0.3,
                            secure: Math.random() > 0.25,
                            width: Math.random() * 0.8 + 0.2
                        });
                    }
                }
            }

            // Create SVG definitions for effects
            const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
            svg.appendChild(defs);

            // Create glow filter
            const filter = document.createElementNS('http://www.w3.org/2000/svg', 'filter');
            filter.setAttribute('id', 'glow');
            filter.setAttribute('x', '-50%');
            filter.setAttribute('y', '-50%');
            filter.setAttribute('width', '200%');
            filter.setAttribute('height', '200%');

            const feGaussianBlur = document.createElementNS('http://www.w3.org/2000/svg', 'feGaussianBlur');
            feGaussianBlur.setAttribute('stdDeviation', '1.5');
            feGaussianBlur.setAttribute('result', 'blur');
            filter.appendChild(feGaussianBlur);

            const feComposite = document.createElementNS('http://www.w3.org/2000/svg', 'feComposite');
            feComposite.setAttribute('in', 'SourceGraphic');
            feComposite.setAttribute('in2', 'blur');
            feComposite.setAttribute('operator', 'over');
            filter.appendChild(feComposite);

            defs.appendChild(filter);

            // Add gradient definitions
            const secureGradient = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');
            secureGradient.setAttribute('id', 'secureGradient');
            secureGradient.innerHTML = `
            <stop offset="0%" stop-color="#2c2c2c" />
            <stop offset="100%" stop-color="#454545" />
        `;
            defs.appendChild(secureGradient);

            const insecureGradient = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');
            insecureGradient.setAttribute('id', 'insecureGradient');
            insecureGradient.innerHTML = `
            <stop offset="0%" stop-color="#3a3a3a" />
            <stop offset="100%" stop-color="#1a1a1a" />
        `;
            defs.appendChild(insecureGradient);

            // Group for connections
            const connectionsGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            svg.appendChild(connectionsGroup);

            // Group for packets
            const packetsGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            svg.appendChild(packetsGroup);

            // Group for nodes
            const nodesGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            svg.appendChild(nodesGroup);

            // Group for alerts
            const alertsGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            svg.appendChild(alertsGroup);

            // Draw connections
            connections.forEach((connection, index) => {
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', nodes[connection.source].x);
                line.setAttribute('y1', nodes[connection.source].y);
                line.setAttribute('x2', nodes[connection.target].x);
                line.setAttribute('y2', nodes[connection.target].y);
                line.setAttribute('stroke', connection.secure ? '#3a3a3a' : '#1a1a1a');
                line.setAttribute('stroke-width', connection.width);
                line.setAttribute('stroke-opacity', connection.active ? 0.5 : 0.2);
                line.setAttribute('data-index', index);

                if (connection.active) {
                    line.setAttribute('stroke-dasharray', '3,3');
                    setInterval(() => {
                        const offset = parseInt(line.getAttribute('stroke-dashoffset') || 0);
                        line.setAttribute('stroke-dashoffset', (offset + 1) % 6);
                    }, 100);
                }

                connectionsGroup.appendChild(line);
            });

            // Draw nodes
            nodes.forEach((node, index) => {
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', node.x);
                circle.setAttribute('cy', node.y);
                circle.setAttribute('r', node.radius);
                circle.setAttribute('fill', node.secure ? 'url(#secureGradient)' : 'url(#insecureGradient)');
                circle.setAttribute('data-index', index);

                if (node.type === 'server') {
                    circle.setAttribute('filter', 'url(#glow)');
                    circle.setAttribute('r', node.radius + 1);
                }

                nodesGroup.appendChild(circle);

                // Add hexagon for server nodes
                if (node.type === 'server') {
                    const hexSize = node.radius * 2.5;
                    const hexagon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                    const points = [];

                    for (let i = 0; i < 6; i++) {
                        const angle = (Math.PI / 3) * i - Math.PI / 2;
                        const x = node.x + hexSize * Math.cos(angle);
                        const y = node.y + hexSize * Math.sin(angle);
                        points.push(`${x},${y}`);
                    }

                    hexagon.setAttribute('points', points.join(' '));
                    hexagon.setAttribute('fill', 'none');
                    hexagon.setAttribute('stroke', '#454545');
                    hexagon.setAttribute('stroke-width', '0.5');
                    hexagon.setAttribute('opacity', '0.3');
                    nodesGroup.appendChild(hexagon);
                }
            });

            // Animation function
            function animate() {
                // Move nodes
                nodes.forEach((node, i) => {
                    // Update position
                    node.x += node.vx;
                    node.y += node.vy;

                    // Boundary check
                    if (node.x < 0 || node.x > width) node.vx = -node.vx;
                    if (node.y < 0 || node.y > height) node.vy = -node.vy;

                    // Update node element
                    const circle = nodesGroup.querySelector(`circle[data-index="${i}"]`);
                    if (circle) {
                        circle.setAttribute('cx', node.x);
                        circle.setAttribute('cy', node.y);
                    }

                    // Update server hexagon if present
                    if (node.type === 'server') {
                        const hexagon = nodesGroup.querySelectorAll('polygon')[nodes.filter(n => n.type === 'server').indexOf(node)];
                        if (hexagon) {
                            const hexSize = node.radius * 2.5;
                            const points = [];

                            for (let i = 0; i < 6; i++) {
                                const angle = (Math.PI / 3) * i - Math.PI / 2;
                                const x = node.x + hexSize * Math.cos(angle);
                                const y = node.y + hexSize * Math.sin(angle);
                                points.push(`${x},${y}`);
                            }

                            hexagon.setAttribute('points', points.join(' '));
                        }
                    }
                });

                // Update connection lines
                connections.forEach((connection, i) => {
                    const line = connectionsGroup.querySelector(`line[data-index="${i}"]`);
                    if (line) {
                        line.setAttribute('x1', nodes[connection.source].x);
                        line.setAttribute('y1', nodes[connection.source].y);
                        line.setAttribute('x2', nodes[connection.target].x);
                        line.setAttribute('y2', nodes[connection.target].y);
                    }
                });

                // Handle packet animations
                if (Math.random() > 0.95) {
                    const connectionIndex = Math.floor(Math.random() * connections.length);
                    const connection = connections[connectionIndex];

                    if (connection.active) {
                        const sourceNode = nodes[connection.source];
                        const targetNode = nodes[connection.target];

                        const packet = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                        packet.setAttribute('cx', sourceNode.x);
                        packet.setAttribute('cy', sourceNode.y);
                        packet.setAttribute('r', 1.5);
                        packet.setAttribute('fill', connection.secure ? '#4a4a4a' : '#2a2a2a');
                        packetsGroup.appendChild(packet);

                        const packetObj = {
                            element: packet,
                            source: connection.source,
                            target: connection.target,
                            progress: 0,
                            speed: Math.random() * 0.02 + 0.01,
                            secure: connection.secure
                        };

                        packetData.push(packetObj);
                    }
                }

                // Update existing packets
                for (let i = packetData.length - 1; i >= 0; i--) {
                    const packet = packetData[i];
                    packet.progress += packet.speed;

                    if (packet.progress >= 1) {
                        // Packet reached destination
                        packetsGroup.removeChild(packet.element);
                        packetData.splice(i, 1);

                        // Sometimes generate security alert
                        if (!packet.secure && Math.random() > 0.7) {
                            createAlert(nodes[packet.target].x, nodes[packet.target].y);
                        }
                    } else {
                        // Update packet position
                        const sourceNode = nodes[packet.source];
                        const targetNode = nodes[packet.target];

                        const x = sourceNode.x + (targetNode.x - sourceNode.x) * packet.progress;
                        const y = sourceNode.y + (targetNode.y - sourceNode.y) * packet.progress;

                        packet.element.setAttribute('cx', x);
                        packet.element.setAttribute('cy', y);
                    }
                }

                // Update alerts
                for (let i = alerts.length - 1; i >= 0; i--) {
                    const alert = alerts[i];
                    alert.opacity -= 0.01;

                    if (alert.opacity <= 0) {
                        // Remove faded alert
                        alertsGroup.removeChild(alert.element);
                        alerts.splice(i, 1);
                    } else {
                        // Update alert opacity
                        alert.element.setAttribute('opacity', alert.opacity);

                        // Expand alert radius
                        alert.radius += 0.3;
                        alert.element.setAttribute('r', alert.radius);
                    }
                }

                requestAnimationFrame(animate);
            }

            // Function to create security alert animation
            function createAlert(x, y) {
                const alertCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                alertCircle.setAttribute('cx', x);
                alertCircle.setAttribute('cy', y);
                alertCircle.setAttribute('r', 5);
                alertCircle.setAttribute('fill', 'none');
                alertCircle.setAttribute('stroke', '#333333');
                alertCircle.setAttribute('stroke-width', '1');
                alertCircle.setAttribute('opacity', '0.8');

                alertsGroup.appendChild(alertCircle);

                alerts.push({
                    element: alertCircle,
                    opacity: 0.8,
                    radius: 5
                });
            }

            // Handle window resize
            window.addEventListener('resize', function () {
                svg.setAttribute('width', window.innerWidth);
                svg.setAttribute('height', window.innerHeight);
            });

            // Mouse interaction
            let isDragging = false;
            let selectedNode = null;

            svg.addEventListener('mousedown', function (e) {
                const mouseX = e.clientX;
                const mouseY = e.clientY;

                // Check if clicked on a node
                for (let i = 0; i < nodes.length; i++) {
                    const node = nodes[i];
                    const dx = mouseX - node.x;
                    const dy = mouseY - node.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance <= node.radius * 2) {
                        isDragging = true;
                        selectedNode = i;
                        break;
                    }
                }
            });

            svg.addEventListener('mousemove', function (e) {
                if (isDragging && selectedNode !== null) {
                    const mouseX = e.clientX;
                    const mouseY = e.clientY;

                    nodes[selectedNode].x = mouseX;
                    nodes[selectedNode].y = mouseY;
                    nodes[selectedNode].vx = 0;
                    nodes[selectedNode].vy = 0;
                }
            });

            svg.addEventListener('mouseup', function () {
                isDragging = false;
                selectedNode = null;
            });

            // Start animation
            animate();
        });
    </script>
<script src="translator.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberGuard CTF Challenge</title>
    <style>
        :root {
            --primary-color: #212529;
            --secondary-color: #495057;
            --accent-color: #6c757d;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --dark-color: #343a40;
            --light-color: #f8f9fa;
            --font-main: "Times New Roman", Times, serif;
            --font-code: 'Courier New', Courier, monospace;
            --cyber-accent: #00ff8c;
            --cyber-accent-dark: #00b460;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            line-height: 1.6;
            background-color: var(--dark-color);
            color: var(--light-color);
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(25, 25, 25, 0.95);
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 255, 140, 0.1);
            position: relative;
            z-index: 1;
            flex: 1;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--cyber-accent);
            padding-bottom: 20px;
            position: relative;
        }

        header h1 {
            font-size: 2.5rem;
            color: var(--cyber-accent);
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(0, 255, 140, 0.3);
        }

        header h2 {
            font-size: 1.5rem;
            color: var(--light-color);
            font-style: italic;
        }

        .cyber-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(25, 25, 25, 0.98) 1px, transparent 1px), 
                linear-gradient(90deg, rgba(25, 25, 25, 0.98) 1px, transparent 1px);
            background-size: 40px 40px;
            background-position: center center;
            z-index: -1;
            pointer-events: none;
        }

        .challenge-nav {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .challenge-btn {
            background-color: var(--dark-color);
            color: var(--light-color);
            border: 1px solid var(--secondary-color);
            padding: 10px 15px;
            cursor: pointer;
            font-family: var(--font-main);
            font-size: 1rem;
            border-radius: 4px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .challenge-btn.active {
            background-color: var(--cyber-accent-dark);
            color: var(--light-color);
            border-color: var(--cyber-accent);
        }

        .challenge-btn:hover {
            border-color: var(--cyber-accent);
            box-shadow: 0 0 10px rgba(0, 255, 140, 0.3);
        }

        .challenge-btn i {
            font-size: 1.1rem;
        }

        .challenge-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--secondary-color);
            display: inline-block;
        }

        .challenge-status.complete {
            background-color: var(--success-color);
        }

        .challenge-container {
            background-color: var(--dark-color);
            border: 1px solid var(--secondary-color);
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 30px;
            position: relative;
            min-height: 400px;
        }

        .challenge-section {
            display: none;
        }

        .challenge-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px dashed var(--secondary-color);
        }

        .challenge-title {
            font-size: 1.5rem;
            color: var(--cyber-accent);
        }

        .challenge-difficulty {
            background-color: var(--dark-color);
            color: var(--light-color);
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .challenge-difficulty[data-level="easy"] {
            border: 1px solid var(--success-color);
        }

        .challenge-difficulty[data-level="medium"] {
            border: 1px solid var(--warning-color);
        }

        .challenge-difficulty[data-level="hard"] {
            border: 1px solid var(--danger-color);
        }

        .challenge-description {
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .code-block {
            background-color: #1a1a1a;
            color: #f0f0f0;
            padding: 15px;
            border-radius: 4px;
            font-family: var(--font-code);
            margin: 15px 0;
            overflow-x: auto;
            position: relative;
            border-left: 3px solid var(--cyber-accent);
        }

        .code-block pre {
            white-space: pre-wrap;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .code-block-header {
            background-color: #252525;
            padding: 5px 15px;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
            font-size: 0.9rem;
            color: #aaa;
            margin: -15px -15px 15px -15px;
            display: flex;
            justify-content: space-between;
        }

        .code-block-header .filename {
            font-weight: bold;
        }

        .flag-input-container {
            margin-top: 30px;
        }

        .flag-input {
            display: flex;
            gap: 10px;
        }

        .flag-input input {
            flex: 1;
            padding: 12px 15px;
            background-color: #1a1a1a;
            border: 1px solid var(--secondary-color);
            color: var(--light-color);
            font-family: var(--font-code);
            border-radius: 4px;
            font-size: 1rem;
        }

        .flag-input input:focus {
            outline: none;
            border-color: var(--cyber-accent);
            box-shadow: 0 0 10px rgba(0, 255, 140, 0.3);
        }

        .flag-input button {
            padding: 12px 25px;
            background-color: var(--cyber-accent-dark);
            color: var(--light-color);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-family: var(--font-main);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .flag-input button:hover {
            background-color: var(--cyber-accent);
            color: var(--dark-color);
        }

        .flag-result {
            margin-top: 15px;
            padding: 12px;
            border-radius: 4px;
            font-weight: bold;
            display: none;
        }

        .flag-result.success {
            background-color: rgba(40, 167, 69, 0.2);
            border: 1px solid var(--success-color);
            color: var(--success-color);
            display: block;
        }

        .flag-result.error {
            background-color: rgba(220, 53, 69, 0.2);
            border: 1px solid var(--danger-color);
            color: var(--danger-color);
            display: block;
        }

        .hint-container {
            margin-top: 30px;
            border-top: 1px dashed var(--secondary-color);
            padding-top: 20px;
        }

        .hint-btn {
            background-color: transparent;
            color: var(--info-color);
            border: 1px solid var(--info-color);
            padding: 8px 15px;
            cursor: pointer;
            font-family: var(--font-main);
            font-size: 0.9rem;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .hint-btn:hover {
            background-color: rgba(23, 162, 184, 0.1);
        }

        .hint-content {
            margin-top: 15px;
            padding: 15px;
            background-color: rgba(23, 162, 184, 0.1);
            border-left: 3px solid var(--info-color);
            border-radius: 4px;
            display: none;
        }

        .hint-content.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .progress-container {
            margin-bottom: 30px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .progress-title {
            font-size: 1.2rem;
            color: var(--light-color);
        }

        .progress-score {
            font-size: 1.2rem;
            color: var(--cyber-accent);
            font-weight: bold;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #1a1a1a;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--cyber-accent);
            width: 0%;
            transition: width 0.5s ease;
        }

        .resource-section {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid var(--secondary-color);
        }

        .resource-section h3 {
            font-size: 1.3rem;
            color: var(--light-color);
            margin-bottom: 15px;
        }

        .resources-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .resource-item {
            padding: 15px;
            background-color: #1a1a1a;
            border-radius: 4px;
            border-left: 3px solid var(--cyber-accent);
        }

        .resource-item h4 {
            font-size: 1.1rem;
            color: var(--cyber-accent);
            margin-bottom: 8px;
        }

        .resource-item p {
            font-size: 0.9rem;
            color: #ddd;
            margin-bottom: 10px;
        }

        .resource-item a {
            color: var(--info-color);
            text-decoration: none;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .resource-item a:hover {
            text-decoration: underline;
        }

        /* Badge notification for completed challenges */
        .badge-notification {
            position: fixed;
            top: 30px;
            right: 30px;
            background-color: var(--dark-color);
            border: 2px solid var(--cyber-accent);
            color: var(--light-color);
            padding: 15px 25px;
            border-radius: 8px;
            font-family: var(--font-main);
            z-index: 9999;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateX(200%);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-width: 350px;
        }

        .badge-notification.visible {
            transform: translateX(0);
        }

        .badge-icon {
            font-size: 2rem;
            color: var(--cyber-accent);
        }

        .badge-content h3 {
            font-size: 1.2rem;
            color: var(--cyber-accent);
            margin-bottom: 5px;
        }

        .badge-content p {
            font-size: 0.9rem;
        }

        /* Profile section */
        .profile-section {
            margin-top: 40px;
            padding: 20px;
            background-color: #1a1a1a;
            border-radius: 8px;
            border: 1px solid var(--secondary-color);
        }

        .profile-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px dashed var(--secondary-color);
        }

        .profile-title {
            font-size: 1.3rem;
            color: var(--light-color);
        }

        .profile-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }

        .profile-badge {
            background-color: #252525;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 120px;
            text-align: center;
            border: 1px solid var(--secondary-color);
            transition: all 0.3s ease;
        }

        .profile-badge.locked {
            opacity: 0.5;
            filter: grayscale(1);
        }

        .profile-badge:hover {
            border-color: var(--cyber-accent);
            box-shadow: 0 0 10px rgba(0, 255, 140, 0.2);
        }

        .badge-icon-large {
            font-size: 2.5rem;
            color: var(--cyber-accent);
            margin-bottom: 10px;
        }

        .badge-name {
            font-size: 0.9rem;
            font-weight: bold;
            color: var(--light-color);
            margin-bottom: 5px;
        }

        .badge-desc {
            font-size: 0.8rem;
            color: #aaa;
        }

        .footer {
            margin-top: 50px;
            text-align: center;
            color: #888;
            font-size: 0.9rem;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            header h1 {
                font-size: 2rem;
            }

            header h2 {
                font-size: 1.3rem;
            }

            .challenge-container {
                padding: 15px;
            }

            .challenge-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .resources-list {
                grid-template-columns: repeat(auto-fill, minmax(100%, 1fr));
            }

            .flag-input {
                flex-direction: column;
            }

            .profile-badges {
                justify-content: center;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="cyber-grid"></div>
    <div class="container">
        <header>
            <h1>CyberGuard CTF Challenge</h1>
            <h2>Test your cybersecurity skills with these realistic challenges</h2>
        </header>

        <div class="progress-container">
            <div class="progress-header">
                <div class="progress-title">Overall Progress</div>
                <div class="progress-score">Score: <span id="current-score">0</span>/<span id="max-score">500</span></div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <div class="challenge-nav">
            <button class="challenge-btn active" data-challenge="recon">
                <span class="challenge-status" id="recon-status"></span>
                <i class="fas fa-search"></i> Reconnaissance
            </button>
            <button class="challenge-btn" data-challenge="crypto">
                <span class="challenge-status" id="crypto-status"></span>
                <i class="fas fa-key"></i> Cryptography
            </button>
            <button class="challenge-btn" data-challenge="web">
                <span class="challenge-status" id="web-status"></span>
                <i class="fas fa-globe"></i> Web Security
            </button>
            <button class="challenge-btn" data-challenge="forensics">
                <span class="challenge-status" id="forensics-status"></span>
                <i class="fas fa-microscope"></i> Digital Forensics
            </button>
            <button class="challenge-btn" data-challenge="reverse">
                <span class="challenge-status" id="reverse-status"></span>
                <i class="fas fa-code"></i> Reverse Engineering
            </button>
        </div>

        <div class="challenge-container">
            <!-- Reconnaissance Challenge -->
            <div class="challenge-section active" id="recon-challenge">
                <div class="challenge-header">
                    <div class="challenge-title">Hidden Information</div>
                    <div class="challenge-difficulty" data-level="easy">
                        <i class="fas fa-signal"></i> Easy (50 points)
                    </div>
                </div>
                <div class="challenge-description">
                    <p>You need to find hidden information about a potential security breach. An employee named John Smith has been acting suspiciously, and there might be some information hidden in the company's website code.</p>
                    <p>Examine the HTML source code below to find hidden information that could be the flag.</p>
                </div>
                <div class="code-block">
                    <div class="code-block-header">
                        <span class="filename">company-website.html</span>
                        <span class="language">HTML</span>
                    </div>
                    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;CyberGuard Security Solutions&lt;/title&gt;
    &lt;meta name="description" content="Leading cybersecurity solutions for enterprises"&gt;
    &lt;!-- TODO: Remove before production - John's temporary access key: jsmith-8a28b72d --&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;header&gt;
        &lt;h1&gt;CyberGuard Security Solutions&lt;/h1&gt;
        &lt;nav&gt;
            &lt;ul&gt;
                &lt;li&gt;&lt;a href="/"&gt;Home&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="/services"&gt;Services&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="/about"&gt;About Us&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="/contact"&gt;Contact&lt;/a&gt;&lt;/li&gt;
                &lt;!-- &lt;li&gt;&lt;a href="/admin"&gt;Admin Portal&lt;/a&gt;&lt;/li&gt; --&gt;
            &lt;/ul&gt;
        &lt;/nav&gt;
    &lt;/header&gt;
    
    &lt;main&gt;
        &lt;section class="hero"&gt;
            &lt;h2&gt;Protecting Your Digital Assets&lt;/h2&gt;
            &lt;p&gt;Comprehensive security solutions for the modern enterprise.&lt;/p&gt;
        &lt;/section&gt;
        
        &lt;!-- Employee directory removed temporarily 
        Access internal employee records: /internal/employees.php?mode=full&access=sysadmin
        --&gt;
        
        &lt;section class="services"&gt;
            &lt;h2&gt;Our Services&lt;/h2&gt;
            &lt;div class="service-grid"&gt;
                &lt;div class="service-card"&gt;
                    &lt;h3&gt;Penetration Testing&lt;/h3&gt;
                    &lt;p&gt;Identify vulnerabilities before hackers do.&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class="service-card"&gt;
                    &lt;h3&gt;Security Monitoring&lt;/h3&gt;
                    &lt;p&gt;24/7 surveillance of your network traffic.&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class="service-card"&gt;
                    &lt;h3&gt;Incident Response&lt;/h3&gt;
                    &lt;p&gt;Rapid recovery from security breaches.&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;
    &lt;/main&gt;

    &lt;footer&gt;
        &lt;p&gt;&copy; 2025 CyberGuard Security Solutions&lt;/p&gt;
    &lt;/footer&gt;
    
    &lt;!-- Flag format: flag{text_here} --&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                </div>
                <div class="flag-input-container">
                    <p>Submit the flag in the format <code>flag{text_here}</code>:</p>
                    <div class="flag-input">
                        <input type="text" id="recon-flag-input" placeholder="Enter flag here...">
                        <button id="recon-flag-submit">Submit</button>
                    </div>
                    <div class="flag-result" id="recon-flag-result"></div>
                </div>
                <div class="hint-container">
                    <button class="hint-btn" id="recon-hint-btn">Show Hint</button>
                    <div class="hint-content" id="recon-hint-content">
                        <p>Look for comments in the HTML code. Developers often leave sensitive information in comments that should be removed before production.</p>
                    </div>
                </div>
            </div>

            <!-- Cryptography Challenge -->
            <div class="challenge-section" id="crypto-challenge">
                <div class="challenge-header">
                    <div class="challenge-title">Encoded Message</div>
                    <div class="challenge-difficulty" data-level="medium">
                        <i class="fas fa-signal"></i> Medium (100 points)
                    </div>
                </div>
                <div class="challenge-description">
                    <p>A suspicious message has been intercepted from a potential insider threat. The message appears to be encoded, but we're not sure of the method used.</p>
                    <p>Your task is to decode this message and find the hidden flag.</p>
                </div>
                <div class="code-block">
                    <div class="code-block-header">
                        <span class="filename">intercepted_message.txt</span>
                        <span class="language">Text</span>
                    </div>
                    <pre><code>VGhlIGNvbXBhbnkncyBzZXJ2ZXIgY3JlZGVudGlhbHMgaGF2ZSBiZWVuIGNvbXByb21pc2VkLiBUaGUgYmFja2Rvb3IgaGFzIGJlZW4gaW5zdGFsbGVkIHN1Y2Nlc3NmdWxseS4gRmxhZ3tiYXNlNjRfZW5jb2RpbmdfaXNfbm90X2VuY3J5cHRpb259</code></pre>
                </div>
                <div class="flag-input-container">
                    <p>Submit the flag in the format <code>flag{text_here}</code>:</p>
                    <div class="flag-input">
                        <input type="text" id="crypto-flag-input" placeholder="Enter flag here...">
                        <button id="crypto-flag-submit">Submit</button>
                    </div>
                    <div class="flag-result" id="crypto-flag-result"></div>
                </div>
                <div class="hint-container">
                    <button class="hint-btn" id="crypto-hint-btn">Show Hint</button>
                    <div class="hint-content" id="crypto-hint-content">
                        <p>This is a common encoding method that uses 64 different ASCII characters to represent binary data. It's often used for transmitting data over mediums that only support text.</p>
                    </div>
                </div>
            </div>

            <!-- Web Security Challenge -->
            <div class="challenge-section" id="web-challenge">
                <div class="challenge-header">
                    <div class="challenge-title">SQL Injection Vulnerability</div>
                    <div class="challenge-difficulty" data-level="medium">
                        <i class="fas fa-signal"></i> Medium (100 points)
                    </div>
                </div>
                <div class="challenge-description">
                    <p>A web application has a suspected SQL injection vulnerability in its login form. You need to exploit this vulnerability to bypass authentication and find the flag.</p>
                    <p>Below is the PHP code snippet from the login page. Find the vulnerability and determine the payload to use.</p>
                </div>
                <div class="code-block">
                    <div class="code-block-header">
                        <span class="filename">login.php</span>
                        <span class="language">PHP</span>
                    </div>
                    <pre><code>&lt;?php
// Database connection
$conn = mysqli_connect("localhost", "app_user", "app_password", "users_db");

// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}

// Get user input
$username = $_POST['username'];
$password = $_POST['password'];

// Validate user credentials
$query = "SELECT * FROM users WHERE username = '$username' AND password = '$password'";
$result = mysqli_query($conn, $query);

if (mysqli_num_rows($result) > 0) {
    // User authenticated successfully
    session_start();
    $_SESSION['authenticated'] = true;
    $_SESSION['username'] = $username;
    
    // Check if user is admin
    $user = mysqli_fetch_assoc($result);
    if ($user['role'] == 'admin') {
        $_SESSION['admin'] = true;
        // Flag is stored in admin dashboard
        // flag{sql_injection_no_sanitization}
    }
    
    header("Location: dashboard.php");
} else {
    // Authentication failed
    $error = "Invalid username or password";
}

mysqli_close($conn);
?&gt;</code></pre>
                </div>
                <div class="flag-input-container">
                    <p>What would be the username input to bypass authentication?</p>
                    <div class="flag-input">
                        <input type="text" id="web-input" placeholder="Enter payload here...">
                        <button id="web-submit">Test Payload</button>
                    </div>
                    <div class="flag-result" id="web-result"></div>

                    <div id="web-flag-container" style="display: none; margin-top: 30px;">
                        <p>Good job! Now submit the flag you found in the code:</p>
                        <div class="flag-input">
                            <input type="text" id="web-flag-input" placeholder="Enter flag here...">
                            <button id="web-flag-submit">Submit</button>
                        </div>
                        <div class="flag-result" id="web-flag-result"></div>
                    </div>
                </div>
                <div class="hint-container">
                    <button class="hint-btn" id="web-hint-btn">Show Hint</button>
                    <div class="hint-content" id="web-hint-content">
                        <p>Look at how the SQL query is constructed. User input is directly inserted into the query without sanitization. You need to manipulate the query logic to make it always return true, regardless of the password.</p>
                    </div>